name: Dummy-Test-Shell
openapi_url: /openapi.json
base_url: http://localhost:8001

state:
  storage: .test-state.json
  auto_inject:
    - session_id

commands:
  login:
    operationId: login_auth_login_post
    description: "Login and save session"
    after_call:
      save_to_state:
        session_id: "json:session_id"
    default_response_field: "access_token"

  whoami:
    operationId: get_user_users__user_id__get
    description: "Check user info using session_id from state"
    mapping:
      user_id: "$STATE.session_id"
    default_response_field: "role"

  item-info:
    operationId: create_item_items_post
    description: "Create item and show nested field"
    # default_response_field: "received.details.color" # Testing dot notation
    default_response_field: "received.details"

  complex-test:
    operationId: get_complex_complex_get
    description: "Test combined dot and bracket notation"
    default_response_field: "[0].data[0].tags[1]"

  user-action:
    operationId: user_action_users__user_id__actions_post
    description: "POST with path param from state"
    mapping:
      user_id: "$STATE.session_id"
    default_response_field: "action_id"
